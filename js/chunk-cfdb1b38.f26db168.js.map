{"version":3,"sources":["webpack:///./src/views/detail/Detail.vue?2ab1","webpack:///./src/components/content/goods/GoodsListItem.vue?0457","webpack:///./src/views/detail/Detail.vue","webpack:///./src/network/detail.js","webpack:///./src/views/detail/Detail.vue?a2c9","webpack:///./src/components/content/goods/GoodsList.vue","webpack:///./src/components/content/goods/GoodsListItem.vue","webpack:///./src/components/content/goods/GoodsListItem.vue?5e6e","webpack:///./src/components/content/goods/GoodsList.vue?f1d5","webpack:///./src/components/content/goods/GoodsList.vue?beb4","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["default","width","lazy-load","src","detail","cover_url","style","num","stock","price","desc","description","title","tags","plain","type","footer","class","handleAddCart","goToCart","active","activeName","name","details","components","item","goods","like_goods","getDetail","id","request","url","NavBar","GoodsList","setup","route","router","store","book","value","query","then","res","console","log","status","success","dispatch","push","path","__exports__","render","product","key","itemClick","alt","collects_count","props","Object","Array","GoodsListItem","$","DESCRIPTORS","global","hasOwn","isCallable","isObject","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","prototype","undefined","EmptyStringDescriptionStore","SymbolWrapper","arguments","length","String","result","this","symbolPrototype","constructor","symbolToString","toString","nativeSymbol","regexp","configurable","get","symbol","valueOf","string","call","slice","replace","forced"],"mappings":"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","file":"js/chunk-cfdb1b38.f26db168.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Detail.vue?vue&type=style&index=0&id=97c935e6&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./GoodsListItem.vue?vue&type=style&index=0&id=6d9dd1d8&lang=scss&scoped=true\"","<template>\n\n <div>\n    \n<!-- 导航栏 -->\n    <nav-bar>\n        <template v-slot:default>商品详情 </template>\n    </nav-bar>\n\n<!-- 图片组件 -->\n    <van-image\n    width=\"100%\"\n    lazy-load\n    :src=\"detail.cover_url\"\n    />\n\n<!-- 商品详情 -->\n    <van-card style=\"text-align: left\"\n        :num=\"detail.stock\"\n        :price=\"detail.price\"\n        :desc=\"detail.description\"\n        :title=\"detail.title\"\n        >\n\n        <template #tags>\n            <van-tag plain type=\"danger\">新书</van-tag>\n            <van-tag plain type=\"danger\">推荐</van-tag>\n        </template>\n\n        <template #footer>\n            <van-button class=\"button\" type=\"primary\" @click=\"handleAddCart\" >加入购物车</van-button>\n            <van-button class=\"button\" type=\"primary\" @click=\"goToCart\" >立即购买</van-button>\n        </template>\n    </van-card>\n\n<!-- 切换标签  -->\n    <van-tabs v-model:active=\"activeName\">\n        <van-tab title=\"概述\" name=\"a\">\n            <div class=\"content\" v-html=\"detail.details\"></div>\n        </van-tab>\n\n        <van-tab title=\"热评\" name=\"b\">\n            <div v-for=\"item in detail.components\">\n                <p>item</p>\n            </div>\n        </van-tab>\n\n        <van-tab title=\"相关图书\" name=\"c\">\n            <goods-list :goods=\"like_goods\"></goods-list>\n        </van-tab>\n    </van-tabs>\n\n\n\n    </div>\n</template>\n\n<script>\n\nimport NavBar from 'components/common/navbar/NavBar'\nimport { useRoute, useRouter } from \"vue-router\";\nimport { reactive, ref, onMounted, toRefs } from \"vue\";\nimport {getDetail}  from 'network/detail';\nimport GoodsList from \"components/content/goods/GoodsList\";\nimport { addCart } from 'network/cart';\nimport { Toast } from \"vant\";\nimport { useStore } from \"vuex\";\n\n\n\nexport default {\n    name: \"Detail\",\n    components: {\n        NavBar,\n        GoodsList\n    },\n\n     setup () {\n\n        let activeName = ref(0);\n        const route = useRoute();\n        const router = useRouter();\n        const store = useStore();\n        let id = ref(0);\n        let book = reactive({\n            detail: {},\n            like_goods: []\n        })\n\n        onMounted(() => {\n            id.value = route.query.id;\n            getDetail(id.value).then(res => {\n                console.log(res);\n                book.detail = res.goods;\n                book.like_goods = res.like_goods;\n            })\n        })\n\n        //添加购物车\n        const handleAddCart = () => {\n            \n            addCart({\"goods_id\": book.detail.id, \"num\": 1}).then(res=>{\n\n                if(res.status == '201' || res.status == '204') {\n                    Toast.success('添加成功');\n                    //设置store中cartCount\n                    store.dispatch('updateCart');\n                }\n\n            })\n\n        }\n\n        //跳转购物车\n        const goToCart = () => {\n\n            addCart({\"goods_id\": book.detail.id, \"num\": 1}).then(res=>{\n\n                if(res.status == '201' || res.status == '204') {\n                    Toast.success('添加成功,显示购物车');\n\n                    //设置store中cartCount\n                    store.dispatch('updateCart');\n                    router.push({path: '/shopcart'});\n                }\n\n            })\n\n        }\n\n        return {\n            id,\n            ...toRefs(book),\n            activeName,\n            handleAddCart,\n            goToCart\n\n        }\n    }\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.content {\n    padding: 10px;\n    img{\n        min-width: 100%;\n        height: auto;\n    }\n}\n\n.button{\n    width: 120px;\n    height: 40px;\n}\n\n\n</style>","import {request} from './request';\n\nexport function getDetail(id) {\n    return request({\n        url:'/api/goods/'+id,\n    })\n}\n\n","import { render } from \"./Detail.vue?vue&type=template&id=97c935e6&scoped=true\"\nimport script from \"./Detail.vue?vue&type=script&lang=js\"\nexport * from \"./Detail.vue?vue&type=script&lang=js\"\n\nimport \"./Detail.vue?vue&type=style&index=0&id=97c935e6&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/zmj/Desktop/H5/vue-mobile/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-97c935e6\"]])\n\nexport default __exports__","<template>\n    <div class=\"goods\">\n        <goods-list-item \n            v-for=\"item in goods\" \n            :product=\"item\" \n            :key =\"item.id\"\n            @click=\"itemClick(item.id)\"\n            ></goods-list-item>\n    </div>\n\n</template>\n\n<script>\nimport GoodsListItem from \"./GoodsListItem.vue\";\nimport { useRouter } from \"vue-router\";\n\nexport default {\n    props: {\n        goods: {\n          type: Array,\n          default(){\n              return []\n          }\n        }\n    },\n    setup () {\n\n        const router = useRouter();\n\n        const itemClick = (id => {\n            console.log(\"-------------\", id);\n            router.push({path: '/detail', query:{id}})\n        })\n\n        return {\n            itemClick\n        }\n    },\n\n    components: {\n        GoodsListItem,\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.goods {\n    display: flex;  \n    flex-wrap: wrap;\n    justify-content: space-around;\n    padding: 5px;\n}\n\n\n</style>","<template>\n    <div class=\"goods-item\">\n        <img v-lazy=\"product.cover_url\" alt=\"\">\n        <div class=\"goods-info\">\n            <p>{{product.title}}</p>\n            <span class=\"price\"><small>￥</small>{{product.price}}</span>\n            <span class=\"collect\">{{product.collects_count}}</span>\n        </div>\n\n    </div>\n</template>\n\n<script>\nexport default {\n    props: {\n        product: Object,\n        default(){\n            return {}\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n    .goods-item {\n        width: 45%;\n        padding-bottom: 40px;\n        position: relative;\n\n        img{\n            width: 100%;\n            border-radius: 5px;\n        }\n\n        .goods-info {\n            font-size: 12px;\n            position: absolute;\n            bottom: 5px;\n            left: 0;\n            right: 0;\n            overflow: hidden;\n            text-align: center;\n            p {\n                overflow: hidden;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n                margin-bottom: 3px;\n            }\n            .price {\n                color: red;\n                margin-right: 20px;\n            }\n            .collect {\n                position: relative;\n\n            }\n\n            .collect::before {\n                content: \"\";\n                position: absolute;\n                left: -15px;\n                width: 14px;\n                height: 14px;\n                top: -1px;\n                background: url(\"~assets/images/collect.png\") 0 0/14px 14px;\n            }\n        }\n\n\n    }\n\n\n\n</style>","import { render } from \"./GoodsListItem.vue?vue&type=template&id=6d9dd1d8&scoped=true\"\nimport script from \"./GoodsListItem.vue?vue&type=script&lang=js\"\nexport * from \"./GoodsListItem.vue?vue&type=script&lang=js\"\n\nimport \"./GoodsListItem.vue?vue&type=style&index=0&id=6d9dd1d8&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/zmj/Desktop/H5/vue-mobile/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6d9dd1d8\"]])\n\nexport default __exports__","import { render } from \"./GoodsList.vue?vue&type=template&id=76704159&scoped=true\"\nimport script from \"./GoodsList.vue?vue&type=script&lang=js\"\nexport * from \"./GoodsList.vue?vue&type=script&lang=js\"\n\nimport \"./GoodsList.vue?vue&type=style&index=0&id=76704159&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/zmj/Desktop/H5/vue-mobile/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-76704159\"]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./GoodsList.vue?vue&type=style&index=0&id=76704159&lang=scss&scoped=true\"","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var nativeSymbol = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = nativeSymbol ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}