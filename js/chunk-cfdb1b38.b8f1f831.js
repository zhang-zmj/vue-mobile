(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cfdb1b38"],{"0210":function(t,e,c){},"09c7":function(t,e,c){"use strict";c("322f")},"322f":function(t,e,c){},"391f":function(t,e,c){"use strict";c("0210")},"6ab7":function(t,e,c){"use strict";c.r(e);c("a4d3"),c("e01a");var n=c("7a23"),i=function(t){return Object(n["E"])("data-v-97c935e6"),t=t(),Object(n["C"])(),t},o=Object(n["j"])("商品详情 "),a=Object(n["j"])("新书"),r=Object(n["j"])("推荐"),u=Object(n["j"])("加入购物车"),d=Object(n["j"])("立即购买"),l=["innerHTML"],s=i((function(){return Object(n["i"])("p",null,"item",-1)})),b=[s];function j(t,e,c,i,s,j){var O=Object(n["J"])("nav-bar"),f=Object(n["J"])("van-image"),p=Object(n["J"])("van-tag"),v=Object(n["J"])("van-button"),g=Object(n["J"])("van-card"),k=Object(n["J"])("van-tab"),m=Object(n["J"])("goods-list"),h=Object(n["J"])("van-tabs");return Object(n["B"])(),Object(n["h"])("div",null,[Object(n["k"])(O,null,{default:Object(n["S"])((function(){return[o]})),_:1}),Object(n["k"])(f,{width:"100%","lazy-load":"",src:t.detail.cover_url},null,8,["src"]),Object(n["k"])(g,{style:{"text-align":"left"},num:t.detail.stock,price:t.detail.price,desc:t.detail.description,title:t.detail.title},{tags:Object(n["S"])((function(){return[Object(n["k"])(p,{plain:"",type:"danger"},{default:Object(n["S"])((function(){return[a]})),_:1}),Object(n["k"])(p,{plain:"",type:"danger"},{default:Object(n["S"])((function(){return[r]})),_:1})]})),footer:Object(n["S"])((function(){return[Object(n["k"])(v,{class:"button",type:"primary",onClick:i.handleAddCart},{default:Object(n["S"])((function(){return[u]})),_:1},8,["onClick"]),Object(n["k"])(v,{class:"button",type:"primary",onClick:i.goToCart},{default:Object(n["S"])((function(){return[d]})),_:1},8,["onClick"])]})),_:1},8,["num","price","desc","title"]),Object(n["k"])(h,{active:i.activeName,"onUpdate:active":e[0]||(e[0]=function(t){return i.activeName=t})},{default:Object(n["S"])((function(){return[Object(n["k"])(k,{title:"概述",name:"a"},{default:Object(n["S"])((function(){return[Object(n["i"])("div",{class:"content",innerHTML:t.detail.details},null,8,l)]})),_:1}),Object(n["k"])(k,{title:"热评",name:"b"},{default:Object(n["S"])((function(){return[(Object(n["B"])(!0),Object(n["h"])(n["a"],null,Object(n["H"])(t.detail.components,(function(t){return Object(n["B"])(),Object(n["h"])("div",null,b)})),256))]})),_:1}),Object(n["k"])(k,{title:"相关图书",name:"c"},{default:Object(n["S"])((function(){return[Object(n["k"])(m,{goods:t.like_goods},null,8,["goods"])]})),_:1})]})),_:1},8,["active"])])}var O=c("5530"),f=(c("e7e5"),c("d399")),p=c("a7ac"),v=c("6c02"),g=c("1bab");function k(t){return Object(g["a"])({url:"/api/goods/"+t})}var m=c("6d71"),h=c("5a07"),_=c("5502"),y={name:"Detail",components:{NavBar:p["a"],GoodsList:m["a"]},setup:function(){var t=Object(n["G"])(0),e=Object(v["c"])(),c=Object(v["d"])(),i=Object(_["b"])(),o=Object(n["G"])(0),a=Object(n["F"])({detail:{},like_goods:[]});Object(n["y"])((function(){o.value=e.query.id,k(o.value).then((function(t){console.log(t),a.detail=t.goods,a.like_goods=t.like_goods}))}));var r=function(){Object(h["a"])({goods_id:a.detail.id,num:1}).then((function(t){"201"!=t.status&&"204"!=t.status||(f["a"].success("添加成功"),i.dispatch("updateCart"))}))},u=function(){Object(h["a"])({goods_id:a.detail.id,num:1}).then((function(t){"201"!=t.status&&"204"!=t.status||(f["a"].success("添加成功,显示购物车"),i.dispatch("updateCart"),c.push({path:"/shopcart"}))}))};return Object(O["a"])(Object(O["a"])({id:o},Object(n["N"])(a)),{},{activeName:t,handleAddCart:r,goToCart:u})}},S=(c("09c7"),c("6b0d")),C=c.n(S);const J=C()(y,[["render",j],["__scopeId","data-v-97c935e6"]]);e["default"]=J},"6d71":function(t,e,c){"use strict";var n=c("7a23"),i={class:"goods"};function o(t,e,c,o,a,r){var u=Object(n["J"])("goods-list-item");return Object(n["B"])(),Object(n["h"])("div",i,[(Object(n["B"])(!0),Object(n["h"])(n["a"],null,Object(n["H"])(c.goods,(function(t){return Object(n["B"])(),Object(n["f"])(u,{product:t,key:t.id,onClick:function(e){return o.itemClick(t.id)}},null,8,["product","onClick"])})),128))])}var a=function(t){return Object(n["E"])("data-v-6d9dd1d8"),t=t(),Object(n["C"])(),t},r={class:"goods-item"},u={alt:""},d={class:"goods-info"},l={class:"price"},s=a((function(){return Object(n["i"])("small",null,"￥",-1)})),b={class:"collect"};function j(t,e,c,i,o,a){var j=Object(n["K"])("lazy");return Object(n["B"])(),Object(n["h"])("div",r,[Object(n["T"])(Object(n["i"])("img",u,null,512),[[j,c.product.cover_url]]),Object(n["i"])("div",d,[Object(n["i"])("p",null,Object(n["M"])(c.product.title),1),Object(n["i"])("span",l,[s,Object(n["j"])(Object(n["M"])(c.product.price),1)]),Object(n["i"])("span",b,Object(n["M"])(c.product.collects_count),1)])])}var O={props:{product:Object,default:function(){return{}}}},f=(c("391f"),c("6b0d")),p=c.n(f);const v=p()(O,[["render",j],["__scopeId","data-v-6d9dd1d8"]]);var g=v,k=c("6c02"),m={props:{goods:{type:Array,default:function(){return[]}}},setup:function(){var t=Object(k["d"])(),e=function(e){console.log("-------------",e),t.push({path:"/detail",query:{id:e}})};return{itemClick:e}},components:{GoodsListItem:g}};c("c911");const h=p()(m,[["render",o],["__scopeId","data-v-76704159"]]);e["a"]=h},c911:function(t,e,c){"use strict";c("e1dd")},e01a:function(t,e,c){"use strict";var n=c("23e7"),i=c("83ab"),o=c("da84"),a=c("1a2d"),r=c("1626"),u=c("861d"),d=c("9bf2").f,l=c("e893"),s=o.Symbol;if(i&&r(s)&&(!("description"in s.prototype)||void 0!==s().description)){var b={},j=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof j?new s(t):void 0===t?s():s(t);return""===t&&(b[e]=!0),e};l(j,s);var O=j.prototype=s.prototype;O.constructor=j;var f=O.toString,p="Symbol(test)"==String(s("test")),v=/^Symbol\((.*)\)[^)]+$/;d(O,"description",{configurable:!0,get:function(){var t=u(this)?this.valueOf():this,e=f.call(t);if(a(b,t))return"";var c=p?e.slice(7,-1):e.replace(v,"$1");return""===c?void 0:c}}),n({global:!0,forced:!0},{Symbol:j})}},e1dd:function(t,e,c){}}]);
//# sourceMappingURL=chunk-cfdb1b38.b8f1f831.js.map