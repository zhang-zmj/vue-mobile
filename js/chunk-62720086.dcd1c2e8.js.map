{"version":3,"sources":["webpack:///./src/views/profile/Profile.vue","webpack:///./src/views/profile/Profile.vue?6411","webpack:///./src/network/user.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/assets/images/user.png","webpack:///./src/views/profile/Profile.vue?7434"],"names":["id","class","src","style","default","user","name","email","goTo","round","block","color","tologout","setup","router","state","then","res","console","log","status","success","window","localStorage","setItem","store","commit","setTimeout","push","path","query","components","NavBar","__exports__","render","register","data","request","url","method","login","logout","getUser","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","module","exports"],"mappings":"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","file":"js/chunk-62720086.dcd1c2e8.js","sourcesContent":["<template>\n    <div id=\"box\">\n\n        <nav-bar class=\"nav-bar\">\n            <template v-slot:default>个人中心</template>\n        </nav-bar>\n\n        <div class=\"user-box\">\n            <div class=\"user-info\">\n                <div class=\"info\">\n                    <img src=\"~assets/images/user.png\"/>\n                    <div class=\"user-desc\">\n                        <span>昵称：{{user.name}}</span>\n                        <span>登录名：{{user.email}}</span>\n                        <span class=\"name\">个性签名：成就自己的只需一套精品</span>\n                    </div>\n                </div>\n            </div>\n\n            <ul class=\"user-list\">\n                <li class=\"van-hairline--bottom\" @click=\"goTo('/collect')\">\n                    <span>我的收藏</span>\n                    <van-icon name=\"arrow\" />\n                </li>\n                <li class=\"van-hairline--bottom\" @click=\"goTo('/order')\">\n                    <span>我的订单</span>\n                    <van-icon name=\"arrow\" />\n                </li>\n                <li class=\"van-hairline--bottom\"  @click=\"goTo('/setting')\">\n                    <span>账号管理</span>\n                    <van-icon name=\"arrow\" />\n                </li>\n                <li class=\"van-hairline--bottom\"  @click=\"goTo('/address')\">\n                    <span>地址管理</span>\n                    <van-icon name=\"arrow\" />\n                </li>\n                <li class=\"van-hairline--bottom\"  @click=\"goTo('/about')\">\n                    <span>关于我们</span>\n                    <van-icon name=\"arrow\" />\n                </li>\n            </ul>\n        </div>\n\n        <div style=\"margin: 16px;\">\n            <van-button round block  color=\"#42b983\" @click=\"tologout\">退出登录</van-button>\n        </div>\n        \n    </div>\n</template>\n\n<script>\n    import NavBar from \"components/common/navbar/NavBar\";\n    import {ref, reactive, toRefs, onMounted} from 'vue';\n    import {useStore} from 'vuex';\n    import {useRouter} from 'vue-router';\n    import {logout, getUser} from 'network/user'\n    import { Toast } from 'vant';\n\n    export default {\n        name: \"Profile\",\n\n        setup() {\n            const router = useRouter()\n\n            const state = reactive({\n                user:{}\n            })\n\n            onMounted(()=>{\n                getUser().then(res=>{\n                    console.log(res);\n                    state.user = res;\n                })\n            })\n            \n            const tologout = ()=>{\n                logout().then(res=>{\n                    if(res.status == '204') {\n                        Toast.success(\"退出成功\");\n                        window.localStorage.setItem('token', '');\n                        store.commit('setIsLogin', false);\n\n                        setTimeout(()=>{\n                            router.push({path:'/login'});\n                        }, 500);\n                    }\n                });\n            }\n\n            // 跳转方法\n            const goTo = (path, query) => {\n                router.push({path, query:query || {}});\n            }\n\n            return {\n                ...toRefs(state),\n                tologout,\n                goTo\n            }\n        },\n\n        components: {\n            NavBar\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    #box {\n        background:#FCFCFC;\n        height:100vh;\n    }\n    .user-box {\n        margin-top:65px;\n        .user-header {\n            position: fixed;\n            top: 0;\n            left: 0;\n            z-index: 10000;\n            width:100%;\n            height:44px;\n            line-height: 44px;\n            padding: 0 10px;\n            color: #252525;\n            background: #fff;\n            border-bottom: 1px solid #dcdcdc;\n            .user-name {\n                font-size: 14px;\n            }\n        }\n        .user-info {\n            width: 94%;\n            margin: 10px;\n            height: 115px;\n            background: linear-gradient(90deg, #31c7A7, #A1c7c7);\n            box-shadow: 0 2px 5px #269090;\n            border-radius: 6px;\n            margin-top: 50px;\n            text-align: left;\n            .info {\n                position: relative;\n                display: flex;\n                width: 100%;\n                height: 100%;\n                padding: 25px 20px;\n\n                img {\n                   width:60px;\n                    height:60px;\n                    border-radius: 50%;\n                    margin-top: 4px;\n                }\n                .user-desc {\n                    display: flex;\n                    flex-direction: column;\n                    margin-left: 10px;\n                    line-height: 20px;\n                    font-size: 14px;\n                    color: #fff;\n                    span {\n                        color: #fff;\n                        font-size: 14px;\n                        padding: 2px 0;\n                    }\n                }\n                .account-setting {\n                    position: absolute;\n                    top: 10px;\n                    right: 20px;\n                    font-size: 13px;\n                    color: #fff;\n                    .van-icon-setting-o {\n                        font-size: 16px;\n                        vertical-align: -3px;\n                        margin-right: 4px;\n                    }\n                }\n            }\n        }\n        .user-list {\n\n            padding: 0 8px;\n            margin-top: 40px;\n            li {\n                padding-left:5px;\n                padding-right:5px;\n                height: 40px;\n                line-height: 40px;\n                display: flex;\n                justify-content: space-between;\n                font-size: 14px;\n                .van-icon-arrow {\n                    margin-top: 13px;\n                }\n                margin:20px 0 !important;\n               background: #FFFFFF;\n                border-radius: 3px;\n            }\n        }\n    }\n</style>\n","import { render } from \"./Profile.vue?vue&type=template&id=50d32db9&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=50d32db9&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/zmj/Desktop/H5/vue-mobile/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-50d32db9\"]])\n\nexport default __exports__","import {request} from './request';\n\nexport function register(data) {\n    return request({\n        url:'/api/auth/register',\n        method:'post',\n        data\n    })\n}\n\nexport function login(data) {\n    return request({\n        url:'/api/auth/login',\n        method:'post',\n        data\n    })\n}\n\nexport function logout(data) {\n    return request({\n        url:'/api/auth/logout',\n        method:'post',\n    })\n}\n\n\nexport function getUser() {\n    return request({\n        url:'/api/user',\n    })\n}\n\n","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","module.exports = __webpack_public_path__ + \"img/user.1f230f71.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Profile.vue?vue&type=style&index=0&id=50d32db9&lang=scss&scoped=true\""],"sourceRoot":""}