{"version":3,"sources":["webpack:///./src/views/profile/Login.vue","webpack:///./src/views/profile/Login.vue?ba09","webpack:///./src/views/profile/Login.vue?c470","webpack:///./src/network/user.js"],"names":["style","default","right","width","height","fit","src","onSubmit","inset","email","name","label","placeholder","rules","password","type","class","$router","push","round","block","color","native-type","components","NavBar","setup","router","store","userinfo","then","res","window","localStorage","setItem","access_token","commit","success","setTimeout","go","__exports__","render","register","data","request","url","method","login","logout","getUser"],"mappings":"0JAK+B,Q,GAKtBA,MAAA,uB,GACIA,MAAA,0C,GAoCAA,MAAA,iB,iBAI2E,Q,2OAlDpF,eA4DE,YAzDF,eAGU,QAFSC,QAAO,gBAAC,iBAAI,C,MACZC,MAAK,gBAAtB,iBAAkC,M,MAIpC,eASM,MATN,EASM,CARF,eAOM,MAPN,EAOM,CANF,eAKE,GAJEC,MAAM,QACNC,OAAO,OACPC,IAAI,UACJC,IAAI,2CAMf,eAqCK,YAnCL,eAgCU,GAhCC,SAAQ,EAAAC,UAAQ,C,wBAExB,iBAmBiB,CAnBjB,eAmBiB,GAnBDC,MAAA,IAAK,C,wBAEjB,iBAME,CANF,eAME,G,WALO,EAAAC,M,qDAAA,EAAAA,MAAK,IACdC,KAAK,MACLC,MAAM,MACNC,YAAY,MACXC,MAAO,CAAC,CAAD,gC,uBAGT,eAOG,G,WANO,EAAAC,S,qDAAA,EAAAA,SAAQ,IACjBC,KAAK,WACLL,KAAK,KACLC,MAAM,KACNC,YAAY,KACXC,MAAO,CAAC,CAAD,+B,iCAKZ,eAOM,MAPN,EAOM,CAND,eAEK,OAFAG,MAAM,aAAc,QAAK,+BAAE,EAAAC,QAAQC,KAAI,uBAAsB,UAGnE,eAEa,GAFDC,MAAA,GAAMC,MAAA,GAAML,KAAK,UAAUM,MAAM,UAAUC,cAAY,U,yBAAS,iBAE5E,C,mIAoBG,GACXC,WAAY,CACRC,SAAA,MAEJC,MAJW,WAMP,IAAMC,EAAS,iBACTC,EAAQ,iBAEPC,EAAW,eAAS,CACvBnB,MAAM,GACNK,SAAS,KAGPP,EAAW,WACb,eAAMqB,GAAUC,MAAK,SAAAC,GAGjBC,OAAOC,aAAaC,QAAQ,QAASH,EAAII,cAEzCP,EAAMQ,OAAO,cAAc,GAE3B,OAAMC,QAAQ,QACdC,YAAW,WACPX,EAAOY,IAAI,KACb,KACFV,EAASnB,MAAQ,GACjBmB,EAASd,SAAW,OAM5B,wCACO,eAAOc,IADd,IAEIrB,e,iCCrGZ,MAAMgC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,oCCTf,W,oCCAA,wJAEO,SAASC,EAASC,GACrB,OAAOC,eAAQ,CACXC,IAAI,qBACJC,OAAO,OACPH,SAID,SAASI,EAAMJ,GAClB,OAAOC,eAAQ,CACXC,IAAI,kBACJC,OAAO,OACPH,SAID,SAASK,EAAOL,GACnB,OAAOC,eAAQ,CACXC,IAAI,mBACJC,OAAO,SAKR,SAASG,IACZ,OAAOL,eAAQ,CACXC,IAAI,gB","file":"js/chunk-3b21045a.1aa6f81b.js","sourcesContent":["<template>\n    <div>\n\n<!-- 导航栏 -->\n    <nav-bar>\n      <template v-slot:default>用户登录</template>\n      <template v-slot:right></template>\n    </nav-bar>\n\n<!-- 头部 -->\n    <div style=\"margin-top:  50px\">\n        <div style=\"text-align:center; padding:10px 0\">\n            <van-image \n                width=\"10rem\"\n                height=\"5rem\"\n                fit=\"contain\"\n                src=\"https://img.yzcdn.cn/vant/cat.jpeg\"\n            />\n        </div>\n    </div>\n\n<!-- 表单  -->\n     <div>\n\n     <van-form @submit=\"onSubmit\">\n\n        <van-cell-group inset>\n\n            <van-field\n            v-model=\"email\"\n            name=\"用户名\"\n            label=\"用户名\"\n            placeholder=\"用户名\"\n            :rules=\"[{ required: true, message: '请填写用户名' }]\"\n            />\n\n           <van-field\n            v-model=\"password\"\n            type=\"password\"\n            name=\"密码\"\n            label=\"密码\"\n            placeholder=\"密码\"\n            :rules=\"[{ required: true, message: '请填写密码' }]\"\n            />\n\n        </van-cell-group>\n\n        <div style=\"margin: 16px;\">\n             <div class=\"link-login\" @click=\"$router.push({path:'/register'})\">\n                立即注册\n            </div>\n            <van-button round block type=\"primary\" color=\"#44b883\" native-type=\"submit\">\n            提交\n            </van-button>\n        </div>\n\n    </van-form>\n\n\n    </div>\n\n</div>\n</template>\n\n<script>\n\nimport NavBar from 'components/common/navbar/NavBar'\nimport { Notify,Toast } from 'vant';\nimport { ref, reactive, toRefs } from \"vue\";\nimport { login } from \"network/user\";\nimport {useRouter} from 'vue-router';\nimport { useStore } from \"vuex\";\n\nexport default {\n    components: {\n        NavBar\n    },\n    setup () {\n\n        const router = useRouter();\n        const store = useStore();\n\n         const userinfo = reactive({\n            email:'',\n            password:''\n         })\n\n        const onSubmit = () => {\n            login(userinfo).then(res=>{\n\n                //将token保存到本地 window.localStorage\n                window.localStorage.setItem(\"token\", res.access_token);\n\n                store.commit(\"setIsLogin\", true);\n\n                Toast.success(\"登陆成功\");\n                setTimeout(()=>{\n                    router.go(-1);\n                },500)\n                userinfo.email = '';\n                userinfo.password = '';\n\n            })\n    \n        }\n        \n        return {\n            ...toRefs(userinfo),\n            onSubmit\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.link-login {\n    font-size:14px;\n    margin-bottom: 20px;\n    color:#42b983;\n    display: inline-block;\n    text-align: left;\n    float:left;\n}\n\n</style>","import { render } from \"./Login.vue?vue&type=template&id=3c1b9b90&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=3c1b9b90&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/zmj/Desktop/H5/vue-mobile/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3c1b9b90\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=3c1b9b90&lang=scss&scoped=true\"","import {request} from './request';\n\nexport function register(data) {\n    return request({\n        url:'/api/auth/register',\n        method:'post',\n        data\n    })\n}\n\nexport function login(data) {\n    return request({\n        url:'/api/auth/login',\n        method:'post',\n        data\n    })\n}\n\nexport function logout(data) {\n    return request({\n        url:'/api/auth/logout',\n        method:'post',\n    })\n}\n\n\nexport function getUser() {\n    return request({\n        url:'/api/user',\n    })\n}\n\n"],"sourceRoot":""}