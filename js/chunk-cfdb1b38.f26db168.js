(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cfdb1b38"],{"0210":function(t,e,c){},"09c7":function(t,e,c){"use strict";c("322f")},"322f":function(t,e,c){},"391f":function(t,e,c){"use strict";c("0210")},"6ab7":function(t,e,c){"use strict";c.r(e);c("a4d3"),c("e01a");var n=c("7a23"),i=function(t){return Object(n["F"])("data-v-97c935e6"),t=t(),Object(n["D"])(),t},o=Object(n["k"])("商品详情 "),a=Object(n["k"])("新书"),r=Object(n["k"])("推荐"),u=Object(n["k"])("加入购物车"),l=Object(n["k"])("立即购买"),d=["innerHTML"],s=i((function(){return Object(n["j"])("p",null,"item",-1)})),b=[s];function j(t,e,c,i,s,j){var O=Object(n["K"])("nav-bar"),f=Object(n["K"])("van-image"),p=Object(n["K"])("van-tag"),v=Object(n["K"])("van-button"),g=Object(n["K"])("van-card"),m=Object(n["K"])("van-tab"),_=Object(n["K"])("goods-list"),k=Object(n["K"])("van-tabs");return Object(n["C"])(),Object(n["i"])("div",null,[Object(n["l"])(O,null,{default:Object(n["U"])((function(){return[o]})),_:1}),Object(n["l"])(f,{width:"100%","lazy-load":"",src:t.detail.cover_url},null,8,["src"]),Object(n["l"])(g,{style:{"text-align":"left"},num:t.detail.stock,price:t.detail.price,desc:t.detail.description,title:t.detail.title},{tags:Object(n["U"])((function(){return[Object(n["l"])(p,{plain:"",type:"danger"},{default:Object(n["U"])((function(){return[a]})),_:1}),Object(n["l"])(p,{plain:"",type:"danger"},{default:Object(n["U"])((function(){return[r]})),_:1})]})),footer:Object(n["U"])((function(){return[Object(n["l"])(v,{class:"button",type:"primary",onClick:i.handleAddCart},{default:Object(n["U"])((function(){return[u]})),_:1},8,["onClick"]),Object(n["l"])(v,{class:"button",type:"primary",onClick:i.goToCart},{default:Object(n["U"])((function(){return[l]})),_:1},8,["onClick"])]})),_:1},8,["num","price","desc","title"]),Object(n["l"])(k,{active:i.activeName,"onUpdate:active":e[0]||(e[0]=function(t){return i.activeName=t})},{default:Object(n["U"])((function(){return[Object(n["l"])(m,{title:"概述",name:"a"},{default:Object(n["U"])((function(){return[Object(n["j"])("div",{class:"content",innerHTML:t.detail.details},null,8,d)]})),_:1}),Object(n["l"])(m,{title:"热评",name:"b"},{default:Object(n["U"])((function(){return[(Object(n["C"])(!0),Object(n["i"])(n["a"],null,Object(n["I"])(t.detail.components,(function(t){return Object(n["C"])(),Object(n["i"])("div",null,b)})),256))]})),_:1}),Object(n["l"])(m,{title:"相关图书",name:"c"},{default:Object(n["U"])((function(){return[Object(n["l"])(_,{goods:t.like_goods},null,8,["goods"])]})),_:1})]})),_:1},8,["active"])])}var O=c("5530"),f=(c("e7e5"),c("d399")),p=c("a7ac"),v=c("6c02"),g=c("1bab");function m(t){return Object(g["a"])({url:"/api/goods/"+t})}var _=c("6d71"),k=c("5a07"),y=c("5502"),C={name:"Detail",components:{NavBar:p["a"],GoodsList:_["a"]},setup:function(){var t=Object(n["H"])(0),e=Object(v["c"])(),c=Object(v["d"])(),i=Object(y["b"])(),o=Object(n["H"])(0),a=Object(n["G"])({detail:{},like_goods:[]});Object(n["z"])((function(){o.value=e.query.id,m(o.value).then((function(t){console.log(t),a.detail=t.goods,a.like_goods=t.like_goods}))}));var r=function(){Object(k["a"])({goods_id:a.detail.id,num:1}).then((function(t){"201"!=t.status&&"204"!=t.status||(f["a"].success("添加成功"),i.dispatch("updateCart"))}))},u=function(){Object(k["a"])({goods_id:a.detail.id,num:1}).then((function(t){"201"!=t.status&&"204"!=t.status||(f["a"].success("添加成功,显示购物车"),i.dispatch("updateCart"),c.push({path:"/shopcart"}))}))};return Object(O["a"])(Object(O["a"])({id:o},Object(n["P"])(a)),{},{activeName:t,handleAddCart:r,goToCart:u})}},h=(c("09c7"),c("6b0d")),U=c.n(h);const K=U()(C,[["render",j],["__scopeId","data-v-97c935e6"]]);e["default"]=K},"6d71":function(t,e,c){"use strict";var n=c("7a23"),i={class:"goods"};function o(t,e,c,o,a,r){var u=Object(n["K"])("goods-list-item");return Object(n["C"])(),Object(n["i"])("div",i,[(Object(n["C"])(!0),Object(n["i"])(n["a"],null,Object(n["I"])(c.goods,(function(t){return Object(n["C"])(),Object(n["g"])(u,{product:t,key:t.id,onClick:function(e){return o.itemClick(t.id)}},null,8,["product","onClick"])})),128))])}var a=function(t){return Object(n["F"])("data-v-6d9dd1d8"),t=t(),Object(n["D"])(),t},r={class:"goods-item"},u={alt:""},l={class:"goods-info"},d={class:"price"},s=a((function(){return Object(n["j"])("small",null,"￥",-1)})),b={class:"collect"};function j(t,e,c,i,o,a){var j=Object(n["L"])("lazy");return Object(n["C"])(),Object(n["i"])("div",r,[Object(n["V"])(Object(n["j"])("img",u,null,512),[[j,c.product.cover_url]]),Object(n["j"])("div",l,[Object(n["j"])("p",null,Object(n["O"])(c.product.title),1),Object(n["j"])("span",d,[s,Object(n["k"])(Object(n["O"])(c.product.price),1)]),Object(n["j"])("span",b,Object(n["O"])(c.product.collects_count),1)])])}var O={props:{product:Object,default:function(){return{}}}},f=(c("391f"),c("6b0d")),p=c.n(f);const v=p()(O,[["render",j],["__scopeId","data-v-6d9dd1d8"]]);var g=v,m=c("6c02"),_={props:{goods:{type:Array,default:function(){return[]}}},setup:function(){var t=Object(m["d"])(),e=function(e){console.log("-------------",e),t.push({path:"/detail",query:{id:e}})};return{itemClick:e}},components:{GoodsListItem:g}};c("c911");const k=p()(_,[["render",o],["__scopeId","data-v-76704159"]]);e["a"]=k},c911:function(t,e,c){"use strict";c("e1dd")},e01a:function(t,e,c){"use strict";var n=c("23e7"),i=c("83ab"),o=c("da84"),a=c("1a2d"),r=c("1626"),u=c("861d"),l=c("9bf2").f,d=c("e893"),s=o.Symbol;if(i&&r(s)&&(!("description"in s.prototype)||void 0!==s().description)){var b={},j=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof j?new s(t):void 0===t?s():s(t);return""===t&&(b[e]=!0),e};d(j,s);var O=j.prototype=s.prototype;O.constructor=j;var f=O.toString,p="Symbol(test)"==String(s("test")),v=/^Symbol\((.*)\)[^)]+$/;l(O,"description",{configurable:!0,get:function(){var t=u(this)?this.valueOf():this,e=f.call(t);if(a(b,t))return"";var c=p?e.slice(7,-1):e.replace(v,"$1");return""===c?void 0:c}}),n({global:!0,forced:!0},{Symbol:j})}},e1dd:function(t,e,c){}}]);
//# sourceMappingURL=chunk-cfdb1b38.f26db168.js.map