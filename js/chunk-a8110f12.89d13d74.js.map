{"version":3,"sources":["webpack:///./src/views/category/Category.vue?1e89","webpack:///./src/assets/images/left.png","webpack:///./src/components/common/navbar/NavBar.vue","webpack:///./src/components/common/navbar/NavBar.vue?eeba","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/category/Category.vue","webpack:///./src/network/Category.js","webpack:///./src/views/category/Category.vue?9df4","webpack:///./src/components/common/navbar/NavBar.vue?c9bc"],"names":["module","exports","class","src","alt","goback","name","setup","router","go","__exports__","render","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","default","active","onClickTab","title","activeKey","activeName","accordion","categorys","item","key","id","children","sub","getGoods","showGoods","itemClick","num","comments_count","tag","price","desc","updated_at","thumb","cover_url","lazy-load","getCategory","request","url","getCategoryGoods","order","cid","page","components","NavBar","cuttentOrder","currentCid","goods","sales","list","orders","value","then","res","data","console","log","categories","push","path","query"],"mappings":"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","file":"js/chunk-a8110f12.89d13d74.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Category.vue?vue&type=style&index=0&id=15688ec2&lang=scss&scoped=true\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABk0lEQVRoQ+2Z3UYFURSA1/c8dVcv0H23iYiIiIiIiH5ERMQhIiIi0kPUfd3Vk/QAO5s5HJmzW2f/tbZm7saZGd+31p519lqDNH7QOL8MAn+dwSED/y4DzrkTEVkWkS8ReQX8efRRdQl18McTtJ/AfDS9SL0q1APvud+BRfMCU+A996n5JRSAPwLOUqLv7y36DgTgD4HzVPiiAgH4A+AiB3wxgQD8PnCZC76IgHPOl8m+2r4HXOWEzy4QgN8FRrnhswoE4HeA6xLw2QQC8NvATSn4LAIB+C3gtiR8skCg2mwCd6XhkwQC8BvAfQ34aIEA/DrwUAs+SiAAvwY81oSPFfgQkbkfoKvAU234WIE3EVloWcBvEya7qrFLG0vI0zb9Eo/D3XQZVUjY/yNTSNjfSigk7G/mFBL2t9MKCfsNjULCfkupkLDf1Csk7I9VFBL2B1sKCfujRYWE/eHuLxLtfB+Ysot9AZZSGqGi0+k+sG4Ms9L99mz++0BKdDX3Vs+ABmqWawaBWaJV4tohAyWiOsszvwGAjbUxED2S5gAAAABJRU5ErkJggg==\"","<template>\n    <div class=\"nav-bar\">\n\n        <div class=\"left\" @click=\"goback\"><slot name=\"left\">\n            <img src=\"~assets/images/left.png\" alt=\"\">\n        </slot></div>\n        <div class=\"center\"><slot>Shop</slot></div>\n        <div class=\"right\"><slot name=\"right\"></slot></div>\n\n    </div>\n</template>\n\n<script>\nimport { useRouter } from \"vue-router\";\n\nexport default {\n    name: \"NavBar\",\n\n    setup () {\n        \n       //事件处理\n        const router = useRouter();\n        const goback = () => {\n            router.go(-1); //回到上一个界面\n        }\n\n\n        return {\n            goback\n        }\n\n\n    \n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.nav-bar{\n\n    display: flex;\n    background-color: var(--color-tint);\n    color: #fff;\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    z-index: 9;\n    height: 45px;\n    line-height: 45px;\n    text-align: center;\n    box-shadow: 0 2px 0px rgba($color: #000000, $alpha: 0.1);\n\n    .left, .right {\n        width: 60px;\n    }\n\n    .left {\n         width: 45px; \n         padding: 8px 10px;\n    }\n\n    .center{\n        flex: 1;\n    }\n\n}\n\n\n</style>","import { render } from \"./NavBar.vue?vue&type=template&id=205ea2a6&scoped=true\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=205ea2a6&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/zmj/Desktop/H5/vue-mobile/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-205ea2a6\"]])\n\nexport default __exports__","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\n   <!-- 导航栏 -->\n    <nav-bar>\n      <template v-slot:default>分类</template>\n    </nav-bar>\n\n   <!-- 主界面 -->\n<div class=\"mainbox\">\n\n    <div class=\"ordertab\">\n        <div class=\"toplefttab\"></div>\n        <div class=\"toptab\">\n            <van-tabs v-model=\"active\" @click-tab=\"onClickTab\">\n                <van-tab title=\"销量排序\"></van-tab>\n                <van-tab title=\"价格排序\"></van-tab>\n                <van-tab title=\"评论排序\"></van-tab>\n            </van-tabs>\n        </div>\n    </div>\n\n\n<!-- 左侧的菜单项目 -->\n    <div class=\"leftmenu\">\n        <van-sidebar class=\"sidebar\" v-model=\"activeKey\" >\n            <van-collapse v-model=\"activeName\" accordion>\n                <van-collapse-item v-for=\"item in categorys\" \n                                   :title=\"item.name\" :key=\"item.id\" \n                                   :name=\"item.name\" >\n                <van-sidebar-item \n                    v-for=\"sub in item.children\" \n                    :title=\"sub.name\"  \n                    :key=\"sub.id\"\n                    @click=\"getGoods(sub.id)\"\n                    />\n                </van-collapse-item>\n            </van-collapse>\n        </van-sidebar>\n    </div>\n\n\n<!-- 商品列表 -->\n    <div class=\"goodslist\">\n        <div class=\"content\">\n\n                <van-card\n                \n                v-for=\"item in showGoods\"  :key=\"item.id\"\n                @click=\"itemClick(item.id)\"\n                :num=\"item.comments_count\"\n                :tag=\"item.comments_count >= 0 ? '流行' : '标签'\"\n                :price=\"item.price\"\n                :desc=\"item.updated_at\"\n                :title=\"item.title\"\n                :thumb=\"item.cover_url\"\n                :lazy-load=\"true\"\n                />\n\n        </div>\n    </div>\n\n</div>\n\n\n\n\n</template>\n\n<script>\nimport NavBar from 'components/common/navbar/NavBar'\nimport { ref, reactive, onMounted, computed} from \"vue\";\nimport {useRouter } from \"vue-router\";\nimport { getCategory } from \"network/Category\";\nimport { getCategoryGoods } from '../../network/Category';\n\n\nexport default {\n    components: {\n        NavBar\n    },\n\n\n    setup () {\n        \n        const router = useRouter();\n        let active = ref(1);\n        let activeKey = ref(0);\n        let categorys = ref([]);\n        let activeName = ref(1);\n        \n        // 当前的排序条件\n        let cuttentOrder = ref(\"sales\");\n        //当前的分类ID\n        let currentCid = ref(0);\n\n         //数据模型\n        let goods = reactive({\n            sales:{page:1, list:[]},\n            price:{page:1, list:[]},\n            comments_count:{page:1, list:[]}\n        });\n\n\n\n\n        //排序选项卡\n        let onClickTab = ({name}) => {\n            let orders = [\"sales\",\"price\",\"comments_count\"];\n            cuttentOrder.value = orders[name];\n            getCategoryGoods(cuttentOrder.value , currentCid.value).then((res)=>{\n                    goods[cuttentOrder.value ].list = res.goods.data;\n            })\n        }\n\n        let getGoods =  (id) => {\n           currentCid.value = id\n           console.log(\"------\", id);\n            // init(); \n\n            getCategoryGoods(cuttentOrder.value , currentCid.value).then((res)=>{\n                    goods[cuttentOrder.value ].list = res.goods.data;\n            })\n        }\n\n\n        // 网络请求\n        const init = () => {\n            getCategoryGoods(\"sales\", currentCid.value).then((res)=>{\n                    goods.sales.list = res.goods.data;\n            })\n\n            getCategoryGoods(\"price\", currentCid.value).then((res)=>{\n                    goods.price.list = res.goods.data;\n            })\n\n            getCategoryGoods(\"comments_count\", currentCid.value).then((res)=>{\n                    goods.comments_count.list = res.goods.data;\n            })\n\n        }\n\n        onMounted(() => {\n            getCategory().then(res=>{\n                console.log(res);\n                categorys.value = res.categories\n            })\n\n            getCategoryGoods(\"sales\", currentCid.value).then((res)=>{\n                    goods.sales.list = res.goods.data;\n            })\n        })\n\n\n        //计算属性\n        const showGoods = computed(()=>{\n            return goods[cuttentOrder.value].list\n        })\n\n\n        const itemClick = (id => {\n            router.push({path: '/detail', query:{id}})\n        })\n\n        return {\n            activeKey,\n            categorys,\n            activeName,\n            active,\n            onClickTab,\n            getGoods,\n            currentCid,\n            goods,\n            showGoods,\n            itemClick\n        }\n\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.mainbox {\n    margin-top: 45px;\n    display: flex;\n    .ordertab{\n        flex: 1;\n        float: right;\n        position: fixed;\n        top: 45px;\n        right: 0;\n        width: 100%;\n        background-color: white; \n        height: 50px;\n        z-index: 9;\n        .toplefttab {\n            width: 130px;\n            height: 50px;\n            float: left;\n        }\n        .toptab {\n            height: 50px;   \n        }\n    }\n\n    .leftmenu{\n        position: fixed;\n        left: 0;\n        top: 95px;\n        width: 130px;\n        // overflow-y:scroll;\n        // overflow-y:hidden\n        overflow-y: auto;\n        .sidebar {\n            width: 130px;\n        }\n        \n        \n    }\n\n    .goodslist{\n        flex: 1;\n        position: absolute;\n        top: 95px;\n        left: 130px;\n        right: 0;\n        height: 100vh;\n        padding: 10px;\n        text-align: left !important;\n    }\n\n\n\n}\n\n\n\n\n</style>","import {request} from './request';\n\nexport function getCategory() {\n    return request({\n        url:'/api/goods'\n    })\n}\n\n\n\nexport function getCategoryGoods(order =\"sales\", cid = 0, page = 1) {\n    return request({\n        url:'/api/goods?category_iid='+cid+\"&page\"+page+\"&\"+order+\"=1\",\n    })\n}\n\n\n\n\n","import { render } from \"./Category.vue?vue&type=template&id=15688ec2&scoped=true\"\nimport script from \"./Category.vue?vue&type=script&lang=js\"\nexport * from \"./Category.vue?vue&type=script&lang=js\"\n\nimport \"./Category.vue?vue&type=style&index=0&id=15688ec2&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/zmj/Desktop/H5/vue-mobile/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-15688ec2\"]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NavBar.vue?vue&type=style&index=0&id=205ea2a6&lang=scss&scoped=true\""],"sourceRoot":""}