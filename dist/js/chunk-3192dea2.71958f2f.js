(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3192dea2"],{"99af":function(e,t,n){"use strict";var r=n("23e7"),a=n("d039"),c=n("e8b5"),o=n("861d"),i=n("7b0b"),u=n("07fa"),d=n("8418"),s=n("65f0"),l=n("1dde"),b=n("b622"),f=n("2d00"),j=b("isConcatSpreadable"),O=9007199254740991,p="Maximum allowed index exceeded",g=f>=51||!a((function(){var e=[];return e[j]=!1,e.concat()[0]!==e})),h=l("concat"),v=function(e){if(!o(e))return!1;var t=e[j];return void 0!==t?!!t:c(e)},m=!g||!h;r({target:"Array",proto:!0,forced:m},{concat:function(e){var t,n,r,a,c,o=i(this),l=s(o,0),b=0;for(t=-1,r=arguments.length;t<r;t++)if(c=-1===t?o:arguments[t],v(c)){if(a=u(c),b+a>O)throw TypeError(p);for(n=0;n<a;n++,b++)n in c&&d(l,b,c[n])}else{if(b>=O)throw TypeError(p);d(l,b++,c)}return l.length=b,l}})},a566:function(e,t,n){},d2dd:function(e,t,n){"use strict";n("a566")},e05b:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return s}));var r=n("1bab");function a(e){return Object(r["a"])({url:"/api/orders",method:"post",params:e})}function c(){return Object(r["a"])({url:"/api/orders/preview"})}function o(e,t){return Object(r["a"])({url:"/api/orders/".concat(e,"/pay"),params:t})}function i(e){return Object(r["a"])({url:"/api/orders/".concat(e,"/status")})}function u(e){return Object(r["a"])({url:"/api/orders",method:"get",params:e})}function d(e){return Object(r["a"])({url:"/api/orders/".concat(e),params:{include:"user,orderDetails.goods"}})}function s(e){return Object(r["a"])({url:"/api/orders/".concat(e,"/confirm"),method:"patch"})}},f86d:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a=function(e){return Object(r["E"])("data-v-c8a4c2a2"),e=e(),Object(r["C"])(),e},c={class:"order-box"},o=Object(r["j"])(" 定单列表 "),i={class:"content"},u=["onClick"],d={class:"order-item-header"},s={style:{"line-height":"30px"}},l=a((function(){return Object(r["i"])("br",null,null,-1)}));function b(e,t,n,a,b,f){var j=Object(r["J"])("nav-bar"),O=Object(r["J"])("van-tab"),p=Object(r["J"])("van-tabs"),g=Object(r["J"])("van-card"),h=Object(r["J"])("van-list"),v=Object(r["J"])("van-pull-refresh");return Object(r["B"])(),Object(r["h"])("div",c,[Object(r["k"])(j,{class:"nav-bar"},{default:Object(r["S"])((function(){return[o]})),_:1}),Object(r["k"])(p,{ref:"tabs",onClick:a.onChangeTab,class:"order-tab"},{default:Object(r["S"])((function(){return[Object(r["k"])(O,{title:"全部"}),Object(r["k"])(O,{title:"待付款"}),Object(r["k"])(O,{title:"已支付"}),Object(r["k"])(O,{title:"发货"}),Object(r["k"])(O,{title:"交易完成"}),Object(r["k"])(O,{title:"过期"})]})),_:1},8,["onClick"]),Object(r["i"])("div",i,[Object(r["k"])(v,{modelValue:e.refreshing,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.refreshing=t}),onRefresh:a.onRefresh,class:"order-list-refresh"},{default:Object(r["S"])((function(){return[Object(r["k"])(h,{loading:e.loading,"onUpdate:loading":t[0]||(t[0]=function(t){return e.loading=t}),finished:e.finished,"finished-text":"没有更多了",onLoad:a.onLoad,onOffset:function(e){return 10}},{default:Object(r["S"])((function(){return[(Object(r["B"])(!0),Object(r["h"])(r["a"],null,Object(r["H"])(e.list,(function(e,t){return Object(r["B"])(),Object(r["h"])("div",{onClick:function(t){return a.goTo(e.id)},class:"order-item-box",key:t},[Object(r["i"])("div",d,[Object(r["i"])("span",s,[Object(r["j"])("订单号："+Object(r["M"])(e.order_no)+" ",1),l,Object(r["j"])(" 创建时间："+Object(r["M"])(e.created_at),1)])]),(Object(r["B"])(!0),Object(r["h"])(r["a"],null,Object(r["H"])(e.orderDetails.data,(function(e){return Object(r["B"])(),Object(r["f"])(g,{key:e.id,num:e.num,price:e.goods.price,desc:"全场包邮",title:e.goods.title,thumb:e.goods.cover_url},null,8,["num","price","title","thumb"])})),128))],8,u)})),128))]})),_:1},8,["loading","finished","onLoad"])]})),_:1},8,["modelValue","onRefresh"])])])}var f=n("5530"),j=(n("99af"),n("a7ac")),O=n("e05b"),p=n("6c02"),g={name:"Order",components:{NavBar:j["a"]},setup:function(){var e=Object(p["d"])(),t=(Object(p["c"])(),Object(r["G"])(null)),n=Object(r["F"])({loading:!1,finished:!1,refreshing:!1,list:[],page:1,totalPage:0,status:0});Object(r["y"])((function(){o()}));var a=function(){Object(O["d"])({page:n.page,status:n.status,include:"orderDetails.goods"}).then((function(e){n.list=n.list.concat(e.data),n.loading=!1,console.log(n.page+"################"),n.totalPage=e.meta.pagination.total_pages,n.page>=n.totalPage&&(n.finished=!0)}))},c=function(){!n.refreshing&&n.page<n.totalPage&&(n.page=n.page+1),n.refreshing&&(n.list=[],n.refreshing=!1),a()},o=function(){n.refreshing=!0,n.finished=!1,n.loading=!0,n.page=1,c()},i=function(e){n.status=e,o()},u=function(t){e.push({path:"/orderdetail",query:{id:t}})};return Object(f["a"])(Object(f["a"])({},Object(r["N"])(n)),{},{onLoad:c,onRefresh:o,tabs:t,onChangeTab:i,goTo:u})}},h=(n("d2dd"),n("6b0d")),v=n.n(h);const m=v()(g,[["render",b],["__scopeId","data-v-c8a4c2a2"]]);t["default"]=m}}]);
//# sourceMappingURL=chunk-3192dea2.71958f2f.js.map